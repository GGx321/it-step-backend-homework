# Mongoose Homework - Article CRUD

–î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è –∑ —Ä–æ–±–æ—Ç–∏ –∑ MongoDB —á–µ—Ä–µ–∑ Mongoose. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π –¥–ª—è –º–æ–¥–µ–ª—ñ Article –∑ –¥–µ—Ñ–æ–ª—Ç–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏, –ø–æ—à—É–∫–æ–º, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
mongoose-homework/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ Article.js        # Mongoose –º–æ–¥–µ–ª—å Article
‚îú‚îÄ‚îÄ index.js              # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∑ —É—Å—ñ–º–∞ –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏
‚îú‚îÄ‚îÄ db.js                 # –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB
‚îú‚îÄ‚îÄ package.json          # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

---

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è MongoDB

**macOS:**
```bash
brew tap mongodb/brew
brew install mongodb-community
brew services start mongodb-community
```

**Linux (Ubuntu):**
```bash
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
sudo apt update
sudo apt install -y mongodb-org
sudo systemctl start mongod
```

**Windows:**
- –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ [mongodb.com/try/download/community](https://www.mongodb.com/try/download/community)
- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —è–∫ —Å–ª—É–∂–±—É

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ MongoDB

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
mongosh

# –£ mongosh –∫–æ–Ω—Å–æ–ª—ñ:
show dbs
exit
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫
npm start
```

---

## üìù –ó–∞–≤–¥–∞–Ω–Ω—è

### ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 1: –°—Ö–µ–º–∞ –∑ –¥–µ—Ñ–æ–ª—Ç–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏

**–ú–æ–¥–µ–ª—å Article:**
```javascript
{
    title: {
        type: String,
        required: true,
        trim: true
    },
    body: {
        type: String,
        trim: true
    },
    likes: {
        type: Number,
        default: 0,           // üëà –î–µ—Ñ–æ–ª—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
        min: 0
    },
    createdAt: {
        type: Date,
        default: Date.now     // üëà –î–µ—Ñ–æ–ª—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
    }
}
```

**–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–∞—Ç–µ–π –ë–ï–ó –≤–∫–∞–∑–∞–Ω–Ω—è `likes` —Ç–∞ `createdAt`:**

```javascript
await Article.create({
    title: '–í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB',
    body: 'MongoDB - —Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∞ NoSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö...'
    // likes —Ç–∞ createdAt –≤—Å—Ç–∞–Ω–æ–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
{
    _id: ObjectId("..."),
    title: '–í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB',
    body: 'MongoDB - —Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∞ NoSQL –±–∞–∑–∞ –¥–∞–Ω–∏—Ö...',
    likes: 0,                           // ‚úÖ –î–µ—Ñ–æ–ª—Ç
    createdAt: 2025-10-16T14:30:00.000Z // ‚úÖ –î–µ—Ñ–æ–ª—Ç
}
```

---

### ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–æ—à—É–∫ –ø–æ –∫—ñ–ª—å–∫–æ—Ö —É–º–æ–≤–∞—Ö

**–§—É–Ω–∫—Ü—ñ—è:** `findPopularArticles(minLikes, keyword)`

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
```javascript
async function findPopularArticles(minLikes, keyword) {
    return await Article.find({
        likes: { $gte: minLikes },                    // likes >= minLikes
        title: { $regex: keyword, $options: 'i' }    // title –º—ñ—Å—Ç–∏—Ç—å keyword
    });
}
```

**–ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```javascript
// –ó–Ω–∞–π—Ç–∏ —Å—Ç–∞—Ç—Ç—ñ –∑ >= 10 –ª–∞–π–∫—ñ–≤, —è–∫—ñ –º—ñ—Å—Ç—è—Ç—å "Node"
await findPopularArticles(10, 'Node');
// –†–µ–∑—É–ª—å—Ç–∞—Ç: REST API Best Practices, Node.js —Ç–∞ Express

// –ó–Ω–∞–π—Ç–∏ –≤—Å—ñ —Å—Ç–∞—Ç—Ç—ñ –ø—Ä–æ MongoDB
await findPopularArticles(0, 'MongoDB');
// –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB, MongoDB –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤
```

**MongoDB –∑–∞–ø–∏—Ç:**
```javascript
db.articles.find({
    likes: { $gte: 10 },
    title: { $regex: /Node/i }
})
```

---

### ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 3: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ —ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º

**–§—É–Ω–∫—Ü—ñ—è:** `likeArticle(id)`

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
```javascript
async function likeArticle(id) {
    return await Article.findByIdAndUpdate(
        id,
        { $inc: { likes: 1 } },  // üëà –ó–±—ñ–ª—å—à—É—î–º–æ –Ω–∞ 1
        { new: true }            // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –æ–Ω–æ–≤–ª–µ–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç
    );
}
```

**–ü—Ä–∏–∫–ª–∞–¥:**
```javascript
const article = await Article.findOne({ title: '–í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB' });
console.log(article.likes); // 0

await likeArticle(article._id);
console.log(article.likes); // 1

await likeArticle(article._id);
console.log(article.likes); // 2
```

**MongoDB –∑–∞–ø–∏—Ç:**
```javascript
db.articles.updateOne(
    { _id: ObjectId("...") },
    { $inc: { likes: 1 } }
)
```

**–ü–µ—Ä–µ–≤–∞–≥–∏ `$inc`:**
- ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è
- ‚úÖ –ù–µ –ø–æ—Ç—Ä–µ–±—É—î —á–∏—Ç–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å–æ–º
- ‚úÖ –£–Ω–∏–∫–∞—î race conditions

---

### ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 4: –í–∏–±—ñ—Ä —Ç—ñ–ª—å–∫–∏ –ø–µ–≤–Ω–∏—Ö –ø–æ–ª—ñ–≤

**–§—É–Ω–∫—Ü—ñ—è:** `getArticleTitles()`

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
```javascript
async function getArticleTitles() {
    return await Article
        .find()
        .select('title likes')  // üëà –¢—ñ–ª—å–∫–∏ title —Ç–∞ likes
        .sort({ likes: -1 });
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
[
    { _id: "...", title: "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", likes: 25 },
    { _id: "...", title: "REST API Best Practices", likes: 15 },
    { _id: "...", title: "–í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB", likes: 3 },
    // body –ù–ï –≤–∫–ª—é—á–µ–Ω–∏–π!
]
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```javascript
// –í–∏–∫–ª—é—á–∏—Ç–∏ –ø–æ–ª–µ
.select('-body')          // –í—Å—ñ –ø–æ–ª—è –∫—Ä—ñ–º body

// –í–∫–ª—é—á–∏—Ç–∏ –ø–æ–ª—è
.select('title likes')    // –¢—ñ–ª—å–∫–∏ title —Ç–∞ likes

// –û–±'—î–∫—Ç–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
.select({ title: 1, likes: 1, _id: 0 })
```

**MongoDB –∑–∞–ø–∏—Ç:**
```javascript
db.articles.find({}, { title: 1, likes: 1 })
```

---

### ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 5: Find or Create

**–§—É–Ω–∫—Ü—ñ—è:** `findOrCreate(title, body)`

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
```javascript
async function findOrCreate(title, body) {
    // –°–ø–æ—á–∞—Ç–∫—É —à—É–∫–∞—î–º–æ
    let article = await Article.findOne({ title });
    
    if (article) {
        return { article, created: false };  // –ó–Ω–∞–π–¥–µ–Ω–æ
    }
    
    // –Ø–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ - —Å—Ç–≤–æ—Ä—é—î–º–æ
    article = await Article.create({ title, body });
    return { article, created: true };       // –°—Ç–≤–æ—Ä–µ–Ω–æ
}
```

**–ü—Ä–∏–∫–ª–∞–¥–∏:**
```javascript
// –ü–µ—Ä—à–∞ —Å–ø—Ä–æ–±–∞ - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
const result1 = await findOrCreate(
    'TypeScript Guide',
    'TypeScript –¥–æ–¥–∞—î —Ç–∏–ø—ñ–∑–∞—Ü—ñ—é –¥–æ JavaScript...'
);
console.log(result1.created); // true
console.log(result1.article.title); // "TypeScript Guide"

// –î—Ä—É–≥–∞ —Å–ø—Ä–æ–±–∞ - –ø–æ—à—É–∫ —ñ—Å–Ω—É—é—á–æ—ó
const result2 = await findOrCreate(
    'TypeScript Guide',
    '–Ü–Ω—à–∏–π —Ç–µ–∫—Å—Ç'
);
console.log(result2.created); // false
console.log(result2.article.title); // "TypeScript Guide"
// body –∑–∞–ª–∏—à–∏–≤—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–∏–º!
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —á–µ—Ä–µ–∑ `findOneAndUpdate`:**
```javascript
const article = await Article.findOneAndUpdate(
    { title },
    { title, body },
    { upsert: true, new: true, setDefaultsOnInsert: true }
);
```

---

### ‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 6 (–ë–û–ù–£–°): –ë–∞–≥–∞—Ç–æ–ø–æ–ª—å–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

**–§—É–Ω–∫—Ü—ñ—è:** `getArticlesSorted()`

**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:**
```javascript
async function getArticlesSorted() {
    return await Article
        .find()
        .sort({ 
            likes: -1,      // 1Ô∏è‚É£ –°–ø–æ—á–∞—Ç–∫—É –∑–∞ likes (–±—ñ–ª—å—à–µ ‚Üí –º–µ–Ω—à–µ)
            createdAt: -1   // 2Ô∏è‚É£ –ü–æ—Ç—ñ–º –∑–∞ –¥–∞—Ç–æ—é (–Ω–æ–≤—ñ—à—ñ ‚Üí —Å—Ç–∞—Ä—ñ—à—ñ)
        });
}
```

**–ü—Ä–∏–∫–ª–∞–¥ –¥–∞–Ω–∏—Ö:**
```javascript
// –î–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:
[
    { title: "A", likes: 10, createdAt: "2025-10-16" },
    { title: "B", likes: 10, createdAt: "2025-10-15" },
    { title: "C", likes: 5,  createdAt: "2025-10-17" },
    { title: "D", likes: 20, createdAt: "2025-10-14" }
]

// –ü—ñ—Å–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:
[
    { title: "D", likes: 20, createdAt: "2025-10-14" }, // 1. –ù–∞–π–±—ñ–ª—å—à–µ –ª–∞–π–∫—ñ–≤
    { title: "A", likes: 10, createdAt: "2025-10-16" }, // 2. 10 –ª–∞–π–∫—ñ–≤, –Ω–æ–≤—ñ—à–∞
    { title: "B", likes: 10, createdAt: "2025-10-15" }, // 3. 10 –ª–∞–π–∫—ñ–≤, —Å—Ç–∞—Ä—ñ—à–∞
    { title: "C", likes: 5,  createdAt: "2025-10-17" }  // 4. –ù–∞–π–º–µ–Ω—à–µ –ª–∞–π–∫—ñ–≤
]
```

**MongoDB –∑–∞–ø–∏—Ç:**
```javascript
db.articles.find().sort({ likes: -1, createdAt: -1 })
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è:**
- `-1` = –≤—ñ–¥ –±—ñ–ª—å—à–æ–≥–æ –¥–æ –º–µ–Ω—à–æ–≥–æ (DESC)
- `1` = –≤—ñ–¥ –º–µ–Ω—à–æ–≥–æ –¥–æ –±—ñ–ª—å—à–æ–≥–æ (ASC)
- –ü–æ—Ä—è–¥–æ–∫ –ø–æ–ª—ñ–≤ —É `.sort()` –≤–∞–∂–ª–∏–≤–∏–π!

---

## üéØ –ó–∞–ø—É—Å–∫

```bash
# –û—Å–Ω–æ–≤–Ω–∏–π –∑–∞–ø—É—Å–∫
npm start

# –í–∏–≤—ñ–¥:
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë   Mongoose Homework - Article CRUD   ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ MongoDB
üì¶ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö: homework_db
üóëÔ∏è  –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –æ—á–∏—â–µ–Ω–∞

üìù –ó–∞–≤–¥–∞–Ω–Ω—è 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç–∞—Ç–µ–π
=================================
‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ 5 —Å—Ç–∞—Ç–µ–π
   –í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB
      likes: 0 (–¥–µ—Ñ–æ–ª—Ç: 0)
      createdAt: 2025-10-16T14:30:00.000Z
   ...

üìö –í—Å—ñ —Å—Ç–∞—Ç—Ç—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
==========================
1. üìù –í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB | ‚ù§Ô∏è  0 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30
2. üìù Mongoose –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤ | ‚ù§Ô∏è  0 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30
3. üìù Node.js —Ç–∞ Express | ‚ù§Ô∏è  0 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30
4. üìù REST API Best Practices | ‚ù§Ô∏è  15 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30
5. üìù –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è | ‚ù§Ô∏è  25 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30

üîç –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–æ—à—É–∫ –ø–æ –∫—ñ–ª—å–∫–æ—Ö —É–º–æ–≤–∞—Ö
=====================================
–£–º–æ–≤–∏: likes >= 10 AND title contains "Node"

–ó–Ω–∞–π–¥–µ–Ω–æ: 1 —Å—Ç–∞—Ç–µ–π
   üìù Node.js —Ç–∞ Express | ‚ù§Ô∏è  0 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30

‚ù§Ô∏è  –ó–∞–≤–¥–∞–Ω–Ω—è 3: –õ–∞–π–∫ —Å—Ç–∞—Ç—Ç—ñ
===========================
‚úÖ –õ–∞–π–∫ –¥–æ–¥–∞–Ω–æ!
   üìù –í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB | ‚ù§Ô∏è  3 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30

üìã –ó–∞–≤–¥–∞–Ω–Ω—è 4: –¢—ñ–ª—å–∫–∏ –Ω–∞–∑–≤–∏ —Ç–∞ –ª–∞–π–∫–∏
===================================
–ó–Ω–∞–π–¥–µ–Ω–æ: 6 —Å—Ç–∞—Ç–µ–π

   –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è ‚Äî ‚ù§Ô∏è  25
   REST API Best Practices ‚Äî ‚ù§Ô∏è  15
   –í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB ‚Äî ‚ù§Ô∏è  3
   ...

üîé –ó–∞–≤–¥–∞–Ω–Ω—è 5: Find or Create
==============================
–ü–æ—à—É–∫: "MongoDB –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤"
üÜï –°—Ç–≤–æ—Ä–µ–Ω–æ –Ω–æ–≤—É —Å—Ç–∞—Ç—Ç—é:
   üìù MongoDB –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤ | ‚ù§Ô∏è  0 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30

–ü–æ—à—É–∫: "Mongoose –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤"
‚úÖ –°—Ç–∞—Ç—Ç—é –∑–Ω–∞–π–¥–µ–Ω–æ:
   üìù Mongoose –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤ | ‚ù§Ô∏è  0 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30

üìä –ó–∞–≤–¥–∞–Ω–Ω—è 6: –ë–∞–≥–∞—Ç–æ–ø–æ–ª—å–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
=======================================
–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è: 1) –∑–∞ likes (‚Üì), 2) –∑–∞ createdAt (‚Üì)

–í—Å—å–æ–≥–æ —Å—Ç–∞—Ç–µ–π: 6

1. üìù –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è | ‚ù§Ô∏è  25 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30
2. üìù REST API Best Practices | ‚ù§Ô∏è  15 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30
3. üìù –í–≤–µ–¥–µ–Ω–Ω—è –≤ MongoDB | ‚ù§Ô∏è  3 | üìÖ 16 –∂–æ–≤—Ç–Ω—è 2025 —Ä., 17:30
...

üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
=============
–í—Å—å–æ–≥–æ —Å—Ç–∞—Ç–µ–π: 6
–í—Å—å–æ–≥–æ –ª–∞–π–∫—ñ–≤: 43
–°–µ—Ä–µ–¥–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ª–∞–π–∫—ñ–≤: 7.2
–ù–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∞: "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è" (25 ‚ù§Ô∏è )

‚ú® –í—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ!
üëã –ó'—î–¥–Ω–∞–Ω–Ω—è –∑ MongoDB –∑–∞–∫—Ä–∏—Ç–æ
```

---

## üìö Mongoose –º–µ—Ç–æ–¥–∏ —Ç–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏

### –û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏:

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
|-------|------|---------|
| `create()` | –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ | `Article.create({ title: '...' })` |
| `find()` | –ü–æ—à—É–∫ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ | `Article.find({ likes: { $gte: 10 } })` |
| `findOne()` | –ü–æ—à—É–∫ –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ | `Article.findOne({ title: '...' })` |
| `findById()` | –ü–æ—à—É–∫ –ø–æ ID | `Article.findById(id)` |
| `findByIdAndUpdate()` | –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ ID | `Article.findByIdAndUpdate(id, data)` |
| `deleteOne()` | –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ | `Article.deleteOne({ _id: id })` |
| `countDocuments()` | –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ | `Article.countDocuments()` |

### –û–ø–µ—Ä–∞—Ç–æ—Ä–∏ –∑–∞–ø–∏—Ç—ñ–≤:

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
|----------|------|---------|
| `$gte` | –ë—ñ–ª—å—à–µ –∞–±–æ –¥–æ—Ä—ñ–≤–Ω—é—î | `{ likes: { $gte: 10 } }` |
| `$gt` | –ë—ñ–ª—å—à–µ | `{ likes: { $gt: 10 } }` |
| `$lte` | –ú–µ–Ω—à–µ –∞–±–æ –¥–æ—Ä—ñ–≤–Ω—é—î | `{ likes: { $lte: 10 } }` |
| `$lt` | –ú–µ–Ω—à–µ | `{ likes: { $lt: 10 } }` |
| `$regex` | –†–µ–≥—É–ª—è—Ä–Ω–∏–π –≤–∏—Ä–∞–∑ | `{ title: { $regex: /node/i } }` |
| `$in` | –ó–Ω–∞—á–µ–Ω–Ω—è –≤ –º–∞—Å–∏–≤—ñ | `{ status: { $in: ['active', 'pending'] } }` |

### –û–ø–µ—Ä–∞—Ç–æ—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
|----------|------|---------|
| `$inc` | –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç | `{ $inc: { likes: 1 } }` |
| `$set` | –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è | `{ $set: { title: 'New' } }` |
| `$push` | –î–æ–¥–∞—Ç–∏ –≤ –º–∞—Å–∏–≤ | `{ $push: { tags: 'new' } }` |
| `$pull` | –í–∏–¥–∞–ª–∏—Ç–∏ –∑ –º–∞—Å–∏–≤—É | `{ $pull: { tags: 'old' } }` |

### –ú–µ—Ç–æ–¥–∏ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
|-------|------|---------|
| `.select()` | –í–∏–±—ñ—Ä –ø–æ–ª—ñ–≤ | `.select('title likes')` |
| `.sort()` | –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è | `.sort({ likes: -1 })` |
| `.limit()` | –û–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ | `.limit(10)` |
| `.skip()` | –ü—Ä–æ–ø—É—Å–∫ –∑–∞–ø–∏—Å—ñ–≤ | `.skip(20)` |
| `.populate()` | –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∑–≤'—è–∑–∫—ñ–≤ | `.populate('author')` |

---

## üéì –©–æ –≤–∏–≤—á–µ–Ω–æ

### Mongoose –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó:
- ‚úÖ –°—Ö–µ–º–∏ –∑ –¥–µ—Ñ–æ–ª—Ç–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è (required, min, trim)
- ‚úÖ –í—ñ—Ä—Ç—É–∞–ª—å–Ω—ñ –ø–æ–ª—è (virtual)
- ‚úÖ Instance –º–µ—Ç–æ–¥–∏ (.display())
- ‚úÖ Static –º–µ—Ç–æ–¥–∏ (.findPopular())

### CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó:
- ‚úÖ Create - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- ‚úÖ Read - –ø–æ—à—É–∫ –∑ —É–º–æ–≤–∞–º–∏
- ‚úÖ Update - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ $inc
- ‚úÖ Delete - –≤–∏–¥–∞–ª–µ–Ω–Ω—è (–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –≤ –î–ó)

### –ó–∞–ø–∏—Ç–∏:
- ‚úÖ –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω—ñ —É–º–æ–≤–∏ ({ $gte, $regex })
- ‚úÖ –í–∏–±—ñ—Ä –ø–æ–ª—ñ–≤ (.select())
- ‚úÖ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∫—ñ–ª—å–∫–æ–º–∞ –ø–æ–ª—è–º–∏
- ‚úÖ –ê–≥—Ä–µ–≥–∞—Ü—ñ—è (aggregate, $sum)

### Patterns:
- ‚úÖ Find-or-Create –ø–∞—Ç–µ—Ä–Ω
- ‚úÖ Atomic operations ($inc)
- ‚úÖ Default values
- ‚úÖ Data validation

### Best Practices:
- ‚úÖ Async/await –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚úÖ Try/catch –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ Connection pooling
- ‚úÖ Graceful shutdown

---

## üõ† –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ MongoDB

```bash
# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB
mongosh

# –ü–æ–∫–∞–∑–∞—Ç–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
show dbs

# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–∞–∑—É
use homework_db

# –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó
show collections

# –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏
db.articles.find()

# –ü–æ–∫–∞–∑–∞—Ç–∏ –∑ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º
db.articles.find().pretty()

# –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
db.articles.countDocuments()

# –û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é
db.articles.deleteMany({})

# –í–∏–¥–∞–ª–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö
db.dropDatabase()
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

| –ó–∞–≤–¥–∞–Ω–Ω—è | –°—Ç–∞—Ç—É—Å | –ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó |
|----------|--------|-------------------|
| 1. –î–µ—Ñ–æ–ª—Ç–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è | ‚úÖ | Schema, default values |
| 2. –ü–æ—à—É–∫ –ø–æ —É–º–æ–≤–∞—Ö | ‚úÖ | $gte, $regex, find() |
| 3. –Ü–Ω–∫—Ä–µ–º–µ–Ω—Ç | ‚úÖ | $inc, findByIdAndUpdate() |
| 4. –í–∏–±—ñ—Ä –ø–æ–ª—ñ–≤ | ‚úÖ | .select() |
| 5. Find or Create | ‚úÖ | findOne() + create() |
| 6. –ë–∞–≥–∞—Ç–æ–ø–æ–ª—å–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è | ‚úÖ | .sort({ field1: -1, field2: -1 }) |

---

## üîó –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Mongoose Documentation](https://mongoosejs.com/docs/guide.html)
- [MongoDB Query Operators](https://www.mongodb.com/docs/manual/reference/operator/query/)
- [Mongoose Validation](https://mongoosejs.com/docs/validation.html)
- [Mongoose Middleware](https://mongoosejs.com/docs/middleware.html)

---

**–í—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ! ‚ú®**
